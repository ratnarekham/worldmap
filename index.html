<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banner with animation and zoom YAY</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <section id="scroll">
        <div class="scroll_graphic">
            <div class="map">
                <img src="mp.png" alt="world_map">
                <div class="dots">
                    <div class="dot dot-1">
                        <span class="tooltip"> China </span>
                    </div>
                    <div class="dot dot-2">
                        <span class="tooltip"> United States </span>
                    </div>
                    <div class="dot dot-3">
                        <span class="tooltip"> United Kingdom </span>
                    </div>
                    <div class="dot dot-4">
                        <span class="tooltip"> Russia </span>
                    </div>
                    <div class="dot dot-5">
                        <span class="tooltip"> India </span>
                    </div>
                    <div class="dot dot-6">
                        <span class="tooltip"> Pakistan </span>
                    </div>
                    <div class="dot dot-7">
                        <span class="tooltip"> North Korea </span>
                    </div>
                    <div class="dot dot-8">
                        <span class="tooltip"> France </span>
                    </div>
                    <div class="dot dot-9">
                        <span class="tooltip">Israel </span>
                    </div>
                    <div class="dot dot-10">
                        <span class="tooltip">Ukraine </span>
                    </div>
                    <div class="dot dot-11">
                        <span class="tooltip">Japan</span>
                    </div>
                </div>
            </div>


        </div>
        <div class="scroll_text">
            <div class="step" data-step="1">
                <style>
                </style>
                <p>The number of nuclear weapons in the world increased this year for the first time in 40 years.</p>
            </div>
            <div class="step" data-step="2">
                <p>China tripled its nuclear arsenal to 600.</p>
            </div>
            <div class="step" data-step="3">
                <p>United Kingdom increased its nuclear weapons stockpile threshold from 225 to 260 in 2021, reversing
                    its policy it followed for decades.
                </p>
            </div>
            <div class="step" data-step="4">
                <p>In 2020, the Ukraine war began. Ukranians believe that giving up their nuclear weapons is one the
                    main reasons for their sufferings. Some say they regret giving them up.
                </p>
            </div>
            <div class="step" data-step="5">
                <p> 80 years since the bombing of Hiroshima and Nagaski, Japanese survivors plead with the world to give
                    up
                    nuclear weapons entirely. As the number of survivors decrease, Japan is struggling to continue to
                    tell
                    their story.
                </p>
            </div>
            <div class="step" data-step="6">
                <p> Segue into the article</p>
            </div>
        </div>
    </section>
    <script src="https://unpkg.com/d3@5.9.1/dist/d3.min.js"></script>
    <script src="https://unpkg.com/scrollama"></script>
    <script>

        // Initialize scrollama
        const scroller = scrollama();

        function zoom(step) {
            const map = d3.select(".map");

            let transform;
            switch (step) {
                case 0:
                    transform = "scale(1) translate(0px, 0px)"; //start
                    break;
                case 1:
                    transform = "scale(2) translate(-410px, 10px)"; // china
                    break;
                case 2:
                    transform = "scale(2) translate(-5px, 100px)"; // uk
                    break;
                case 3:
                    transform = "scale(2.2) translate(-140px, 100px)"; // ukraine
                    break;
                case 4:
                    transform = "scale(2) translate(-585px, 50px)"; // japan
                    break;
                default:
                    transform = "scale(1) translate(0px, 0px)";
            }
            map.style("transform", transform);
        }

        // Setup the scroller
        function init() {
            // Select elements using d3
            const steps = d3.selectAll('.step');

            // Setup scrollama
            scroller
                .setup({
                    step: '.step',
                    offset: 0.5,
                    debug: false
                })
                .onStepEnter(response => {
                    // Update active step
                    steps.classed('is-active', (d, i) => i === response.index);
                    zoom(response.index);
                });

            window.addEventListener('resize', scroller.resize);
        }

        // kick it off
        init();
    </script>
</body>

</html>